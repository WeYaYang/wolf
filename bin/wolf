#!/bin/sh

line="--------------------------------------------"

if [ -n "$1" ]; then
    command=$1
else
    command="init"
fi

function init() {
    echo "wolf init .... " 
    echo $line

    echo "start nacos"
    echo $line
    sh /code/bin/nacos/bin/startup.sh -m standalone > /code/github/wolf/bin/logs/wolf.log 2>&1  &

    echo "start redis" 
    echo $line
    /usr/local/redis/bin/redis-server > /code/github/wolf/bin/logs/wolf.log 2>&1 &

    
    
}

function deploy_test() {
    #localJar=/code/github/wolf/business/union/union-deploy-dubbo/target/union-deploy-dubbo-1.0.0-SNAPSHOT.jar
    #scp  root@47.111.7.95:/root
    scp /code/github/wolf/business/union/union-deploy-dubbo/target/union-deploy-dubbo.tar.gz \
        app@47.111.7.95:/home/app
    echo "union-deploy-dubbo.tar.gz transporting..."
}

function clear() {
    echo "wolf clear ..."
    echo $line

    echo "stop nacos"
    echo $line
    sh /code/bin/nacos/bin/shutdown.sh > /code/github/wolf/bin/logs/wolf.log 2>&1 &

    echo "stop redis"
    echo $line
    /usr/local/redis/bin/redis-cli shutdown > /code/github/wolf/bin/logs/wolf.log 2>&1 &
}

function start() {
    echo "wolf starting ... "    
}

case "$command" in
init)
    init ;;
start)
    start ;;
clear)
    clear ;;
deploy_test)
    deploy_test ;;
esac


